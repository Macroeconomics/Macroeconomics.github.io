<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Using Docker for computation - Macroeconomics II (Econ-6395)</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link href="https://macroeconomics.github.io/images/favicomatic/favicon.ico" rel="icon">

<link rel="canonical" href="https://macroeconomics.github.io/pages/Docker.html">

        <meta name="author" content="Ömer Özak" />
        <meta name="description" content="Docker is an open platform for developing, shipping, and running applications. While originally created for software and app production, it is very useful for scientists to generate replicable environments for use. So we can use Docker to create environments for our own use, or to share our research with others …" />

    <meta property="og:site_name" content="Macroeconomics II (Econ-6395)" />
    <meta property="og:type" content="article"/>
    <meta property="og:title" content="Using Docker for computation"/>
    <meta property="og:url" content="https://macroeconomics.github.io/pages/Docker.html"/>
    <meta property="og:description" content="Docker is an open platform for developing, shipping, and running applications. While originally created for software and app production, it is very useful for scientists to generate replicable environments for use. So we can use Docker to create environments for our own use, or to share our research with others …" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://macroeconomics.github.io/theme/css/bootstrap.spacelab.min.css" type="text/css"/>
    <link href="https://macroeconomics.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://macroeconomics.github.io/theme/css/pygments/default.css" rel="stylesheet">
    <link rel="stylesheet" href="https://macroeconomics.github.io/theme/css/style.css" type="text/css"/>
        <link href="https://macroeconomics.github.io/static/custom.css" rel="stylesheet">

        <link href="https://macroeconomics.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Macroeconomics II (Econ-6395) ATOM Feed"/>




</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://macroeconomics.github.io/" class="navbar-brand">
Macroeconomics II (Econ-6395)            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/pages/Syllabus.html">Syllabus</a></li>
                    <li><a href="/pages/Lecture Notes.html">Lecture Notes</a></li>
                    <li><a href="/pages/Practice Material.html">Practice Material</a></li>
                    <li><a href="/pages/Computation.html">Computation</a></li>
                    <li><a href="/pages/CV.html">CV</a></li>
                    <li><a href="/pages/Contact.html">Contact</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content" class="body">
        <h1 class="entry-title">Using Docker for computation</h1>
        
        <div class="entry-content">
            <hr>
<p><strong><a href="https://www.docker.com/">Docker</a></strong> is an open platform for developing, shipping, and running applications. While originally created for software and app production, it is very useful for scientists to generate replicable environments for use. So we can use <strong><a href="https://www.docker.com/">Docker</a></strong> to create environments for our own use, or to share our research with others. If you are interested in more technical details, you can learn more about <strong><a href="https://www.docker.com/">Docker</a></strong> <a href="https://docs.docker.com/get-started/overview/">here</a>.</p>
<p>The following steps explain how you can use <strong>Docker containers and images</strong> to create or run code on your computer, as well as instruction on how to create your own <strong>Docker containers and images</strong> using <strong>Dockerfiles</strong>. </p>
<h2>Get Docker</h2>
<p><center><iframe src="https://docs.docker.com/get-docker/" title="Get Docker" width=90% height=1000px></iframe></center></p>
<h2>Using Docker</h2>
<p>After installation finishes, continue by openining the <strong>Docker Desktop</strong> application on your computer. You should see something like this</p>
<p><center><a href=""><img alt="" src="../images/pics/fun/docker-dashboard.webp"></a></center></p>
<h3>Sign in</h3>
<p>Next, create a <strong><a href="https://www.docker.com/">Docker</a></strong> account and sign in using the button on the upper right corner (make sure to save your username and password).</p>
<h3>Search for a <strong><a href="https://www.docker.com/">Docker</a> Image and Run it</strong></h3>
<p>Click on <strong>Images</strong>,then search for <code>econgrowth-binder</code>, and click run as shown in this video.</p>
<p><center><video width="100%" height="300" controls autoplay loop>
  <source src="../images/pics/fun/docker-image-search-run.mov" type="video/mp4">
</video></center></p>
<p>Since the image is large, it will take a while to download. Once it does you should see the following</p>
<p><center><a href=""><img alt="" src="../images/pics/fun/docker-econgrowth-post-download.png"></a></center></p>
<p>Click on <strong>Optional Settings</strong> and set <code>host port</code> to <code>9000</code> </p>
<p><center><a href=""><img alt="" src="../images/pics/fun/docker-econgrowth-assign-port.png"></a></center></p>
<p>Click on <strong>Run</strong>, then click on the blue port number <font color="blue">9000:9000</font>. This will open <code>jupyterlab</code> in your browser. When asked input <code>docker</code> as the token to get started</p>
<p><center><video width="100%" height="300" controls autoplay loop>
  <source src="../images/pics/fun/docker-econgrowth-open-port-run.mov" type="video/mp4">
</video></center></p>
<p>Now you are ready to work with Jupyter and Docker! Remember that you do not need to use only the <strong>Docker Image</strong> from teh course, you can search and find any <strong>Docker Image</strong> that serves your purposes.</p>
<h1>A few things to be careful about</h1>
<ul>
<li>If you delete the <strong>Docker Container</strong>, and have not exported/saved your work into an external drive, you will loose EVERYTHING you have done! So, it is best to link an external drive to your caontainer. Here's how to do it:<ul>
<li>When click on <strong>Optional Settings</strong>, besides setting the <code>host port</code> to <code>9000</code>, select a folder on your computer that you want to use with this container and give it a name inside the  <strong>Docker Container</strong>. E.g., I will use the folder <code>my_work</code> on my laptop which I will link to the folder <code>/my_work</code> in the <strong>Docker Container</strong> (notice the <code>/</code> before the folder name)
<center><video width="100%" height="300" controls autoplay loop>
  <source src="../images/pics/fun/docker-econgrowth-open-port-run-withdrive.mov" type="video/mp4">
</video></center></li>
</ul>
</li>
<li>You can simultaneously have multiple <strong>Docker Container</strong> based on the same  <strong>Docker Image</strong>. Each doing something different.</li>
<li>You can name your <strong>Docker Container</strong>, so you remember what it is. This is especially useful in case you need to stop and continue later. </li>
<li>Brfore stopping the container, makle sure you have saved all your work in the external drive. When you resume the <strong>Docker Container</strong> will not resume where you left off otherwise. Imprtantly, it will not keep computations.</li>
</ul>
<h2>Understanding Docker files</h2>
<p>There are basically three files that are used in a <strong><a href="https://www.docker.com/">Docker</a></strong> workflow:</p>
<ol>
<li><strong>Dockerfile</strong>: This is a text file that has the instructions to create a <strong>Docker container</strong>. E.g., the fillowing is the <strong>Dockerfile</strong> that creates a <strong>Docker image</strong> with the conda environment we use in the course.
<center><iframe src="https://www.dropbox.com/scl/fi/hx85qjme4nujyayzgtobf/Dockerfile?rlkey=9hgsquhw8mqmmreotikendhxr&raw=1" title="Dockerfile" width=100% height=200px></iframe></center>
As you can see parts of it are running the same instructions we use in <a href="https://econgrowth.github.io/pages/Manual%20Anaconda%20Install.html">Manual Anaconda Install</a>. You can create your own using this file or any other you find on the web (or ask ChatGPT to help you write one for your own use-case).</li>
<li><strong>Docker Image</strong>: This is the result of compiling the <strong>Dockerfile</strong>. It basically generates a self-contained computational environment that has all the software, apps,  packages, data, code, etc. that were created and installed as part of the <strong>Dockerfile</strong>. Think of it as a virtual drive that has the operating system (OS) and all the things you need/want to use as defined in your <strong>Dockerfile</strong>, and which you will run on your computer/laptop/cloud. What this means is that you can create a <strong>Docker Image</strong> based on one kind of OS and run it on others. Most <strong>Docker images</strong> are linux based, but you can also create images based on other OS. Specifically, according to <a href="https://sl.bing.net/iv3vtZTcbn2">Bing Copilot</a>,
<center><a href=""><img alt="" src="../images/pics/fun/bing-docker-images.png"></a></center></li>
<li><strong>Docker Container</strong>: This is a run of a  <strong>Docker Image</strong>, think of it as opening that virtual drive and running the OS and code inside it. This allows you to use the code, apps, data, etc. that are in the <strong>Docker Image</strong>. </li>
</ol>
<h3>Wait...what? What is the difference</h3>
<p>I know, this is kind of weird...or perhaps I cannot explain it that well. Let's see if <a href="https://sl.bing.net/i5v3O3rGkUe">Bing Copilot's</a> answer,
<center><a href=""><img alt="" src="../images/pics/fun/bing-docker-images-vs-containers.png"></a></center></p>
        </div>
    </section>
        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>

<section class="well well-sm">
    <ul class="list-group list-group-flush">
        <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Social</span></h4>
              <ul class="list-group" id="social">
                <li class="list-group-item"><a href="https://github.com/ozak"><i class="fa fa-github-square fa-lg"></i> Github</a></li>
                <li class="list-group-item"><a href="https://twitter.com/OmerOzakEcon"><i class="fa fa-twitter-square fa-lg"></i> Twitter</a></li>
                <li class="list-group-item"><a href="https://linkedin.com/in/omerozak"><i class="fa fa-linkedin-square fa-lg"></i> Linkedin</a></li>
                <li class="list-group-item"><a href="https://www.researchgate.net/profile/Oemer_Oezak"><i class="fa fa-researchgate-square fa-lg"></i> Researchgate</a></li>
              </ul>
            </li>

    <li class="list-group-item"><h4><i class="fa fa-external-link fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://omerozak.com/" target="_blank">
                Ömer Özak
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.smu.edu/economics" target="_blank">
                Dept. Economics
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.smu.edu/" target="_blank">
                SMU
            </a>
        </li>
      </ul>
    </li>



            <li class="list-group-item"><a href="https://macroeconomics.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group " id="tags">
                    <li class="list-group-item tag-1">
                        <a href="https://macroeconomics.github.io/tag/notebooks.html">
                            Notebooks
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://macroeconomics.github.io/tag/macroeconomics.html">
                            Macroeconomics
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="https://macroeconomics.github.io/tag/ipython.html">
                            IPython
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="https://macroeconomics.github.io/tag/economic-growth.html">
                            Economic Growth
                        </a>
                    </li>
                </ul>
            </li>



    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/Macroeconomics">@Macroeconomics</a> on GitHub
    </li>
    </ul>
</section>            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2022 Ömer Özak
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>                <p><small>  <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://macroeconomics.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://macroeconomics.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://macroeconomics.github.io/theme/js/respond.min.js"></script>

    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = 'https://macroeconomics.github.io/theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'Macroeconomics',
                count: 2,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="https://macroeconomics.github.io/theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->

</body>
</html>